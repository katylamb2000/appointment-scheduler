%li{ class: "dropdown", role: "presentation" }
  %a{ class: "dropdown-toggle", "data-toggle" => "dropdown", href: "#", role: "button", "aria-expanded" => false}
    Log In
    %span{class: "caret"}
  %ul{ class: "dropdown-menu dropdown-menu-right has-form", role: "menu" }
    = form_for(resource, as: resource_name, url: session_path(resource_name), html: { id: "login_nav_bar" }) do |f|

      .form-group.dropdown-div
        = f.label :email
        .input-group.input-group-sm
          %span{ class: "input-group-addon", id: "email_addon_login"}
            %span{ class: "glyphicon glyphicon-envelope"}
          = f.email_field :email, autofocus: true, placeholder: "Email", class: "form-control", id: "email_login_navbar", "aria-describedby" => "email_addon_login"
          
      .form-group.dropdown-div
        = f.label :password
        .input-group.input-group-sm
          %span{ class: "input-group-addon", id: "password_addon_login"}
            %span{ class: "glyphicon glyphicon-lock"}
          = f.password_field :password, autocomplete: "off", placeholder: "Password", class: "form-control", id: "password_login_navbar", "aria-describedby" => "password_addon_login"

      - if devise_mapping.rememberable?
        .form-group.dropdown-div
          .checkbox
            = f.label :remember_me do
              = f.check_box :remember_me
              Remember me

      .form-group.dropdown-div
        = f.submit "Log in", class: "btn btn-primary"
    .dropdown-div
      %br
      = link_to "Forgot your password?", new_password_path(resource_name)
      %br
      = link_to "Don't have an account?", new_registration_path(resource_name)